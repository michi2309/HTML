<!doctype html> 
<html lang="en"> 
<head> 
    <meta charset="UTF-8" />
    <title>Merkava</title>
    <script src="//cdn.jsdelivr.net/npm/phaser@3.11.0/dist/phaser.js"></script>
    <style type="text/css">
        body {
            margin: 0;
        }
    </style>
</head>
<body>

<script type="text/javascript">

//setup iniziale dell'engine
var config = {
    type: Phaser.AUTO,
    width: 800,
    height: 700,
    physics: {
        default: 'arcade',
        arcade: {
            gravity: { y: 600 },
            debug: false
        }
    },
    scene: {
        preload: preload,
        create: create,
        update: update
    }
};
//condizioni di gioco iniziali
let isGameOver = false;
let score = 0;
let scoreText;
let isRefresh =false;
let hitPlayed= false;
let diePlayed=false;
let uccello;
let base;
let baseImage;
let baseHeight;
let veloci= -150;
let spawnTime = 1500;
let gameStart = false;
let game= new Phaser.Game(config);

function preload(){
    this.load.image("sfondo","./assets/sfondo.png");
    this.load.image("personaggio","./assets/idle.png", { frameWidth: 126, frameHeight: 39 });
    this.load.image("salto","./assets/hit.png", { frameWidth: 126, frameHeight: 39 });
    this.load.image("corsa","./assets/run.png", { frameWidth: 126, frameHeight: 39 });
    this.load.image("morto","./assets/death.png", { frameWidth: 126, frameHeight: 39 });
    this.load.image("piattaforma","./assets/piattaforme.png");
    this.load.image("base","./assets/base.png");
    this.load.image("gameover","./assets/gameover.png");
    this.load.image("punteggio","./assets/score.png");
    this.load.audio("punto","./assets/point.wav");
    this.load.audio("fine","./assets/die.wav");
}

function create() {
    let background = this.add.tileSprite(0,0,game.config.width,game.config.height, "sfondo");
    background.setOrigin(0,0);
    background.displayWidth = this.sys.game.config.width;
    background.displayHeight = this.sys.game.config.height;
    let baseImage = this.textures.get("base");
    let baseHeight = baseImage.getSourceImage().height;
    let baseWidth = baseImage.getSourceImage().width;
    base=this.add.tileSprite(game.config.width,game.config.height ,baseWidth,baseHeight, "base");
    this.physics.add.existing(base,true);
    base.setDepth(1);
//    let startGameImage = this.add.image(game.config.width/2,game.config.height/3, "startGame");
//    startGameImage.setOrigin(0.5,0.5);
    personaggio = this.physics.add.sprite

}

function update(){}
</script>

</body>
</html>











